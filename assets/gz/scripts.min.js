const skycons=new Skycons({color:"lightBlue"}),dayCards=[...document.getElementsByClassName("card-body")],WEEKDAYS=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"];function getWeatherData(e){fetch(`/api/${e}?exclude=hourly,minutely,flags`).then(e=>e.json()).then(e=>updatePage(e))}function updatePage(e){console.log(e),$("#current-temp").html(roundTemp(e.currently.temperature)),$("#current-weather").text(e.currently.summary),$("#current-summary").text(e.daily.summary),dayCards.forEach((t,n)=>{const r=e.daily.data[n],a=new Date(1e3*r.time).getDay();skycons.add(t.querySelector("canvas"),r.icon),t.querySelector(".card-title").textContent=0==n?"Today":WEEKDAYS[a],t.querySelector(".hi").innerHTML=roundTemp(r.temperatureHigh),t.querySelector(".lo").innerHTML=roundTemp(r.temperatureLow)}),skycons.play()}function roundTemp(e){return Math.round(e)+"&deg"}$(document).ready(function(){document.getElementById("search-btn").addEventListener("click",function(e){getWeatherData($("#weather-input").val())})});