const skycons=new Skycons({color:"lightBlue"}),dayCards=[...document.getElementsByClassName("card-body")],WEEKDAYS=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],TODAY=new Date;function getWeatherData(e){document.getElementById("location").textContent=e,fetch(`/api/${e}?exclude=hourly,minutely,flags`).then(e=>e.json()).then(e=>updatePage(e)).catch(e=>console.log(e))}function updatePage(e){document.getElementById("current-temp").innerHTML=roundTemp(e.currently.temperature),document.getElementById("current-weather").textContent=e.currently.summary,document.getElementById("current-summary").textContent=e.daily.summary,dayCards.forEach((t,n)=>{const r=e.daily.data[n],o=new Date(1e3*r.time).getDay();skycons.set(t.querySelector("canvas"),r.icon),t.querySelector(".card-title").textContent=0==n?"Today":WEEKDAYS[o],t.querySelector(".hi").innerHTML=roundTemp(r.temperatureHigh),t.querySelector(".lo").innerHTML=roundTemp(r.temperatureLow)}),skycons.play()}function roundTemp(e){return Math.round(e)+"&deg"}$(document).ready(function(){const e=document.getElementById("search-btn");e.addEventListener("click",function(){getWeatherData(document.getElementById("weather-input").value)});document.getElementById("current-date").textContent=new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(TODAY),document.getElementById("current-time").textContent=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"numeric"}).format(TODAY),e.click()});